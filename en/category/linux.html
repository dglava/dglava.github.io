<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>dglava. - Linux</title>
        <link rel="stylesheet" href="http://dglava.github.io/en/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://dglava.github.io/en/">dglava. </a></h1>
                <nav><ul>
                    <li><a href="http://dglava.github.io/en/pages/zasto.html">Why</a></li>
                    <li class="active"><a href="http://dglava.github.io/en/category/linux.html">Linux</a></li>
                    <li><a href="http://dglava.github.io/en/category/stvari.html">Stvari</a></li>
                    <li><a href="http://dglava.github.io/en/archives.html">Archive</a></li>
                    <li><a href="https://github.com/dglava"><img src="http://dglava.github.io/en/theme/images/git.png"></a></li>
                    <li><a href="http://www.last.fm/user/dinoglava"><img src="http://dglava.github.io/en/theme/images/lastfm.png"></a></li>
                    <li><a href="http://dglava.github.io/"><img src="http://dglava.github.io/en/theme/images/bs.png"></a></li>
                    <li><a href="http://dglava.github.io/en/"><img src="http://dglava.github.io/en/theme/images/en.png"></a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://dglava.github.io/en/lightdm-openbox.html">Smooth transition between LightDM and Openbox</a></h1>
<footer class="post-info">
        <abbr class="published" title="2016-03-21T00:00:00+01:00">
                Published: Mon, 21 Mar 2016
        </abbr>

<p>In <a href="http://dglava.github.io/en/category/linux.html">Linux</a></p>
<p>tags: <a href="http://dglava.github.io/en/tag/openbox.html">openbox</a> <a href="http://dglava.github.io/en/tag/lightdm.html">lightdm</a> </p>Translations:
        <a href="http://dglava.github.io/en/../lightdm-openbox.html">bs</a>

</footer><!-- /.post-info --><p>The ugly transition between LigthDM, or more specifically its GTK greeter,
and Openbox is kind of annoying. A gray background pops up shortly before
the desktop wallpaper gets drawn (assuming you use a wallpaper).</p>
<p>The ugly transition in action:</p>
<video width="320" height="240" controls>
  <source src="http://dglava.github.io/en/../images/login1.webm" type="video/webm">
</video>

<p>Digging around, I found out that Openbox actually
<a href="https://github.com/danakj/openbox/blob/d0ba8806689ea80b6a739122aaf8dac81d2a3e5c/data/autostart/openbox-autostart.in#L3-L12">runs x/e/hsetroot at startup</a>.
to set the background color. To get rid of that ugly, temporary background
during logging in, all you have to do is either delete or comment out the lines
in Openbox's autostart bash script.</p>
<div class="highlight"><pre><span></span><span class="c1"># Set a background color</span>
<span class="c1">#BG=&quot;&quot;</span>
<span class="c1">#if which hsetroot &gt;/dev/null 2&gt;/dev/null; then</span>
<span class="c1">#  BG=hsetroot</span>
<span class="c1">#elif which esetroot &gt;/dev/null 2&gt;/dev/null; then</span>
<span class="c1">#  BG=esetroot</span>
<span class="c1">#elif which xsetroot &gt;/dev/null 2&gt;/dev/null; then</span>
<span class="c1">#  BG=xsetroot</span>
<span class="c1">#fi</span>
<span class="c1">#test -z $BG || $BG -solid &quot;#303030&quot;</span>
</pre></div>


<p>On Arch, the file you have to edit is <code>/usr/lib/openbox/openbox-autostart</code>.
Other distributions probably keep it in the same place, but you can find the
autostart's file location by checking the output of</p>
<div class="highlight"><pre><span></span>ps x <span class="p">|</span> grep openbox
</pre></div>


<p>Finally, the transition should be smooth now, especially if your display manager's
background is the same as your desktop background.</p>
<video width="320" height="240" controls>
  <source src="http://dglava.github.io/en/../images/login2.webm" type="video/webm">
</video><p><a href="http://dglava.github.io/en/lightdm-openbox.html#disqus_thread">Comments</a>.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://dglava.github.io/en/gedit-dbus-overlay.html" rel="bookmark"
                           title="Permalink to Gedit, OverlayScrolling and DBus">Gedit, OverlayScrolling and DBus</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-03-18T00:00:00+01:00">
                Published: Fri, 18 Mar 2016
        </abbr>

<p>In <a href="http://dglava.github.io/en/category/linux.html">Linux</a></p>
<p>tags: <a href="http://dglava.github.io/en/tag/gedit.html">gedit</a> <a href="http://dglava.github.io/en/tag/dbus.html">dbus</a> <a href="http://dglava.github.io/en/tag/openbox.html">openbox</a> <a href="http://dglava.github.io/en/tag/gtk.html">gtk</a> </p>Translations:
        <a href="http://dglava.github.io/en/../gedit-dbus-overlay.html">bs</a>

</footer><!-- /.post-info -->                <p>GTK3's overlay scrollbars can be quite annoying. Especially if the theme
you're using isn't keeping up with the latest changes and is barely functional.
Fortunately, there's an easy way to disable them by using the GTK_OVERLAY_SCROLLING
environment variable.</p>
<p>My Openbox environment had some trouble with that ...</p>
                <a class="readmore" href="http://dglava.github.io/en/gedit-dbus-overlay.html">read more</a>
<p><a href="http://dglava.github.io/en/gedit-dbus-overlay.html#disqus_thread">Comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Powered by <a href="http://getpelican.com/">Pelican</a> and <a href="http://python.org">Python</a>. Theme: slightly tweaked <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'dglava';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>