<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>dglava - lightdm</title>
        <link rel="stylesheet" href="http://dglava.github.io/en/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://dglava.github.io/en/">dglava </a></h1>
                <nav><ul>
                    <li><a href="http://dglava.github.io/en/category/linux.html">Linux</a></li>
                    <li><a href="http://dglava.github.io/en/archives.html">Archive</a></li>
                    <li><a href="https://github.com/dglava"><img src="http://dglava.github.io/en/theme/images/git.png"></a></li>
                    <li><a href="http://www.last.fm/user/dinoglava"><img src="http://dglava.github.io/en/theme/images/lastfm.png"></a></li>
                    <li><a href="http://dglava.github.io/"><img src="http://dglava.github.io/en/theme/images/bs.png"></a></li>
                    <li><a href="http://dglava.github.io/en/"><img src="http://dglava.github.io/en/theme/images/en.png"></a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://dglava.github.io/en/lightdm-jezik.html">Change LightDM's language (and its greeters)</a></h1>
<footer class="post-info">
        <abbr class="published" title="2017-03-20T00:00:00+01:00">
                Published: Mon, 20 Mar 2017
        </abbr>

<p>In <a href="http://dglava.github.io/en/category/linux.html">Linux</a></p>
<p>tags: <a href="http://dglava.github.io/en/tag/lightdm.html">lightdm</a> </p>Translations:
        <a href="http://dglava.github.io/en/../lightdm-jezik.html">bs</a>

</footer><!-- /.post-info --><p>I found myself in a situation where I needed LightDM (and its greeters)
to use a language other than the one defined globally by the <code>LANG</code>
environment variable. Searching the internet didn't yield any results,
so I was forced to achieve it with an ugly hack.</p>
<p>The workaround solution consisted of overwriting the globally set language's
(in my case English) translation file with my desired language's one.
I copied the <code>/usr/share/locale/bs/LC_MESSAGES/lightdm-gtk-greeter.mo</code>
file into <code>/usr/share/locale/en/LC_MESSAGES/lightdm-gtk-greeter.mo</code>.</p>
<p>That's far from an ideal solution, so I kept searching for something beter
until I realized that I could do it another way.</p>
<h3>Systemd way</h3>
<p>I am starting LightDM as a systemd service. Systemd is able to pass
environment variables to services and that's exactly what can help us.
All we have to do is edit LightDM's service file and add the <code>ENVIRONMENT="LANG=bs_BA.UTF-8"</code>
in there.</p>
<p>Systemd offers a convenient way to edit service files with <code>systemctl edit lightdm</code>.
It will automatically create an override file for the service. Alternatively,
you can do it manually, by creating the appropriately named directory and override file
in <code>/etc/systemd/system/</code>.</p>
<p>Here's how my file looks like:</p>
<div class="highlight"><pre><span></span>$ cat /etc/systemd/system/lightdm.service.d/override.conf 
<span class="o">[</span>Service<span class="o">]</span>
<span class="nv">Environment</span><span class="o">=</span>
<span class="nv">Environment</span><span class="o">=</span><span class="s2">&quot;LANG=bs_BA.UTF-8&quot;</span>
</pre></div>


<p>I have a blank Environment line because it clears an already set
Environment option. This might not be necessary because there might not
be an already exported Environment file in the actual LightDM service, but
I reckon it won't hurt.
If it does conflict or have any unwanted effects, please let me know in
the comments.</p><p><a href="http://dglava.github.io/en/lightdm-jezik.html#disqus_thread">Comments</a></p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h3>Other articles</h3>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://dglava.github.io/en/lightdm-openbox.html" rel="bookmark"
                           title="Permalink to Smooth transition between LightDM and Openbox">Smooth transition between LightDM and Openbox</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-03-21T00:00:00+01:00">
                Published: Mon, 21 Mar 2016
        </abbr>

<p>In <a href="http://dglava.github.io/en/category/linux.html">Linux</a></p>
<p>tags: <a href="http://dglava.github.io/en/tag/openbox.html">openbox</a> <a href="http://dglava.github.io/en/tag/lightdm.html">lightdm</a> </p>Translations:
        <a href="http://dglava.github.io/en/../lightdm-openbox.html">bs</a>

</footer><!-- /.post-info -->                <p>The ugly transition between LigthDM, or more specifically its GTK greeter,
and Openbox is kind of annoying. A gray background pops up shortly before
the desktop wallpaper gets drawn (assuming you use a wallpaper).</p>
<p>The ugly transition in action:</p>
<video width="320" height="240" controls>
  <source src="http://dglava.github.io/en/../files/login1.webm" type="video/webm">
</video>

<p>Digging around, I found out that Openbox actually
<a href="https://github.com/danakj/openbox/blob/d0ba8806689ea80b6a739122aaf8dac81d2a3e5c/data/autostart/openbox-autostart.in#L3-L12">runs x/e â€¦</a></p>
                <a class="readmore" href="http://dglava.github.io/en/lightdm-openbox.html">read more</a>
<p><a href="http://dglava.github.io/en/lightdm-openbox.html#disqus_thread">Comments</a></p>                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Powered by <a href="http://getpelican.com/">Pelican</a> and <a href="http://python.org">Python</a>. Theme: slightly tweaked <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'dglava';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>