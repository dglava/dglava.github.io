<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>dinoglava - terminal</title>
        <link rel="stylesheet" href="http://dglava.github.io/en/theme/css/main.css" />
        <link rel="shortcut icon" type="image/png" href="http://dglava.github.io/en/theme/images/favicon.png">
</head>

<body id="index" class="home">
        <script>
        let day = new Date().getDay();
        document.getElementById("index").style.backgroundImage = "url(http://dglava.github.io/en/theme/images/p" + day + ".jpg)";
        </script>
        <header id="banner" class="body">
                <h1><a href="http://dglava.github.io/en/">dinoglava </a></h1>
                <nav><ul>
                    <li><a href="http://dglava.github.io/en/category/linux.html">Linux</a></li>
                    <li><a href="http://dglava.github.io/en/category/stvari.html">Stvari</a></li>
                    <li><a href="http://dglava.github.io/en/archives.html">Archive</a></li>
                    <li><a href="https://github.com/dglava"><img src="http://dglava.github.io/en/theme/images/git.png"></a></li>
                    <li><a href="http://www.last.fm/user/dinoglava"><img src="http://dglava.github.io/en/theme/images/lastfm.png"></a></li>
                    <li><a href="http://dglava.github.io/"><img src="http://dglava.github.io/en/theme/images/bs.png"></a></li>
                    <li><a href="http://dglava.github.io/en/"><img src="http://dglava.github.io/en/theme/images/en.png"></a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://dglava.github.io/en/desktop-terminal.html">Desktop file and terminal emulator issues</a></h1>
<footer class="post-info">
        <abbr class="published" title="2018-03-01T00:00:00+01:00">
                Published: Thu, 01 Mar 2018
        </abbr>

<p>In: <a href="http://dglava.github.io/en/category/linux.html">Linux</a></p>
<p>Tags: <a href="http://dglava.github.io/en/tag/terminal.html">terminal</a> </p>Translations:
        <a href="http://dglava.github.io/en/../desktop-terminal.html">bs</a>

</footer><!-- /.post-info --><p>I've had problems with opening text files with my text editor that's
running inside a terminal emulator (Vim) from inside my file manager.
Nothing was happening after double clicking a file in my file manager (Nemo).</p>
<p>A lot of time has passed between the time I became aware of that problem
and now when I definitely found out why it was happening. Since it's
pretty boring and menial, here's the general gist: problem discovery,
no idea why it's happening, ugly hacky solution by specifying the
terminal emulator to open Vim and the file inside the desktop file,
the hacky solution not working because my distribution packaged Vim's 
desktop file which was overwriting mine, figuring the problem out.</p>
<h3>The cleanest hacky solution for someone else's mistake</h3>
<p>Turns out that Glib was responsible for it. The problem lies in the fact
that Glib hardcodes certain <a href="https://gitlab.gnome.org/GNOME/glib/blob/master/gio/gdesktopappinfo.c#L2476">terminal emulators</a>
which are used to open the program if the desktop file contains a
<code>Terminal=yes</code> line. If none of the hardcoded terminals is available,
it fails.</p>
<p>That behaviour is kind of disappointing and there's a <a href="https://bugzilla.gnome.org/show_bug.cgi?id=627943">bug report</a>,
but it doesn't look like it will be resolved soon.</p>
<p>A hopefully temporary solution is to just create a symlink which points
gnome-terminal to your terminal emulator.</p>
<p><code>ln -s /usr/bin/xfce4-terminal /usr/bin/gnome-terminal</code></p>
<p>Let's hope that the Glib people find a way to solve this properly and that they
settle for a way which would allow us to reliably set a default terminal
emulator system wide.</p><p><a href="http://dglava.github.io/en/desktop-terminal.html#disqus_thread">Comments</a></p>                </article>
            </aside><!-- /#featured -->
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Made with <a href="http://getpelican.com/">Pelican</a>. Theme: slightly modified <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'dglava';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>