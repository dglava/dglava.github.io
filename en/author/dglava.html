<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>dglava - dglava</title>
        <link rel="stylesheet" href="http://dglava.github.io/en/theme/css/main.css" />
        <link rel="shortcut icon" type="image/png" href="http://dglava.github.io/en/theme/images/favicon.png">

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://dglava.github.io/en/">dglava </a></h1>
                <nav><ul>
                    <li><a href="http://dglava.github.io/en/category/linux.html">Linux</a></li>
                    <li><a href="http://dglava.github.io/en/archives.html">Archive</a></li>
                    <li><a href="https://github.com/dglava"><img src="http://dglava.github.io/en/theme/images/git.png"></a></li>
                    <li><a href="http://www.last.fm/user/dinoglava"><img src="http://dglava.github.io/en/theme/images/lastfm.png"></a></li>
                    <li><a href="http://dglava.github.io/"><img src="http://dglava.github.io/en/theme/images/bs.png"></a></li>
                    <li><a href="http://dglava.github.io/en/"><img src="http://dglava.github.io/en/theme/images/en.png"></a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://dglava.github.io/en/toggle-touch.html">Quickly turn touchpad on and off</a></h1>
<footer class="post-info">
        <abbr class="published" title="2017-12-06T00:00:00+01:00">
                Published: Wed, 06 Dec 2017
        </abbr>
        <br />
        <abbr class="modified" title="2017-12-26T00:00:00+01:00">
                Modified: Tue, 26 Dec 2017
        </abbr>

<p>In <a href="http://dglava.github.io/en/category/linux.html">Linux</a></p>
<p>tags: <a href="http://dglava.github.io/en/tag/touchpad.html">touchpad</a> </p>Translations:
        <a href="http://dglava.github.io/en/../toggle-touch.html">bs</a>

</footer><!-- /.post-info --><p>My laptop has a button to toggle the touchpad on and off. It's an
<em>XF86TouchpadToggle</em> button and on its own it's useless. You need
something which binds to it and makes it do things. Most desktop environments have
an utility which listens to keyboard presses and then toggles the touchpad.
Since I'm using a self-assembled environment I don't have anything like that.</p>
<p>Therefore I wrote a little abstraction script utilizing <em>xinput</em>. Xinput
can print information about all X devices, but also change their options.
Of course it can also disable a device and that's what we're going to use.</p>
<p><strong>Little update:</strong>
A lookbehind regex replaces the two "cut" calls.</p>
<div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/bash</span>

<span class="c1"># worse way</span>
<span class="c1"># id=$(xinput | grep -i touchpad | cut -f 2 | cut -d &quot;=&quot; -f 2)</span>
<span class="nv">id</span><span class="o">=</span><span class="k">$(</span>xinput <span class="p">|</span> grep -i touchpad <span class="p">|</span> grep -oP <span class="s2">&quot;(?&lt;=id=)\d*&quot;</span><span class="k">)</span>

<span class="k">if</span> xinput list-props <span class="s2">&quot;</span><span class="nv">$id</span><span class="s2">&quot;</span> <span class="p">|</span> grep -q <span class="s2">&quot;Device Enabled.*1</span>$<span class="s2">&quot;</span><span class="p">;</span> <span class="k">then</span>
  xinput disable <span class="s2">&quot;</span><span class="nv">$id</span><span class="s2">&quot;</span>
  notify-send <span class="s2">&quot;Touchpad turned OFF&quot;</span> --icon<span class="o">=</span>input-touchpad
<span class="k">else</span>
  xinput <span class="nb">enable</span> <span class="s2">&quot;</span><span class="nv">$id</span><span class="s2">&quot;</span>
  notify-send <span class="s2">&quot;Touchpad turned ON&quot;</span> --icon<span class="o">=</span>input-touchpad
<span class="k">fi</span>
</pre></div>


<h3>Pretty solution</h3>
<p>I kept this script in a local <em>bin</em> directory and then bound the button via
Openbox's settings to run the script. This worked, until I tried to run
it in a different user's session. It didn't work because the script was
in my HOME directory.</p>
<p>That's when I decided to package it neatly for my distribution.
ArchLinux users can use <a href="https://github.com/dglava/pkgbuilds/tree/master/toggle-touch">this PKGBUILD</a>.
After you install it, an executable named <code>toggle-touch</code> should be available
and then just bind a key to run it.</p><p><a href="http://dglava.github.io/en/toggle-touch.html#disqus_thread">Comments</a></p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h3>Other articles</h3>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://dglava.github.io/en/firefox-dpms.html" rel="bookmark"
                           title="Permalink to Prevent screen blanking when watching videos in Firefox">Prevent screen blanking when watching videos in Firefox</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-08-29T00:00:00+02:00">
                Published: Tue, 29 Aug 2017
        </abbr>
        <br />
        <abbr class="modified" title="2017-12-26T00:00:00+01:00">
                Modified: Tue, 26 Dec 2017
        </abbr>

<p>In <a href="http://dglava.github.io/en/category/linux.html">Linux</a></p>
<p>tags: <a href="http://dglava.github.io/en/tag/firefox.html">firefox</a> <a href="http://dglava.github.io/en/tag/dpms.html">dpms</a> </p>Translations:
        <a href="http://dglava.github.io/en/../firefox-dpms.html">bs</a>

</footer><!-- /.post-info -->                <p>Watching videos on YouTube always proved to be problematic because
my DPMS settings would kick in and the screen would turn off. Firefox
didn't suspend them automatically when it detected HTML5 video playback.
That's a feature that would be great. Not just in Firefox. But instead
if there was a …</p>
                <a class="readmore" href="http://dglava.github.io/en/firefox-dpms.html">read more</a>
<p><a href="http://dglava.github.io/en/firefox-dpms.html#disqus_thread">Comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://dglava.github.io/en/mpv-jedan.html" rel="bookmark"
                           title="Permalink to Single instance of mpv">Single instance of mpv</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-05-06T00:00:00+02:00">
                Published: Sat, 06 May 2017
        </abbr>

<p>In <a href="http://dglava.github.io/en/category/linux.html">Linux</a></p>
<p>tags: <a href="http://dglava.github.io/en/tag/mpv.html">mpv</a> </p>Translations:
        <a href="http://dglava.github.io/en/../mpv-jedan.html">bs</a>

</footer><!-- /.post-info -->                <p><a href="https://mpv.io/">mpv</a> is a pretty cool media player. It's simple and gets
the job done. I've been using it since I started using Linux distributions.
I like the simple config and keyboard focus. I even went so far to remove
all keybindings and only assign those I actually use.
The only …</p>
                <a class="readmore" href="http://dglava.github.io/en/mpv-jedan.html">read more</a>
<p><a href="http://dglava.github.io/en/mpv-jedan.html#disqus_thread">Comments</a></p>                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 4
        <a href="http://dglava.github.io/en/author/dglava2.html">&raquo;</a>
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Powered by <a href="http://getpelican.com/">Pelican</a> and <a href="http://python.org">Python</a>. Theme: slightly tweaked <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'dglava';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>