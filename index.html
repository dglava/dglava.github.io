<!DOCTYPE html>
<html lang="bs">
<head>
        <meta charset="utf-8" />
        <title>dglava</title>
        <link rel="stylesheet" href="http://dglava.github.io/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://dglava.github.io/">dglava </a></h1>
                <nav><ul>
                    <li><a href="http://dglava.github.io/pages/zasto.html">Zašto</a></li>
                    <li><a href="http://dglava.github.io/category/linux.html">Linux</a></li>
                    <li><a href="http://dglava.github.io/category/stvari.html">Stvari</a></li>
                    <li><a href="http://dglava.github.io/archives.html">Arhiva</a></li>
                    <li><a href="https://github.com/dglava"><img src="http://dglava.github.io/theme/images/git.png"></a></li>
                    <li><a href="http://www.last.fm/user/dinoglava"><img src="http://dglava.github.io/theme/images/lastfm.png"></a></li>
                    <li><a href="http://dglava.github.io/"><img src="http://dglava.github.io/theme/images/bs.png"></a></li>
                    <li><a href="http://dglava.github.io/en/"><img src="http://dglava.github.io/theme/images/en.png"></a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://dglava.github.io/compton-xfcenotifyd.html">Xfce4-notifyd samostalno vene</a></h1>
<footer class="post-info">
        <abbr class="published" title="2016-05-09T00:00:00+02:00">
                Objavljeno: Pon, 09 Maj 2016
        </abbr>

<p>Pod <a href="http://dglava.github.io/category/linux.html">Linux</a></p>
<p>tagovi: <a href="http://dglava.github.io/tag/compton.html">compton</a> <a href="http://dglava.github.io/tag/xfce4-notifyd.html">xfce4-notifyd</a> </p>Prevodi:
        <a href="http://dglava.github.io/en/compton-xfcenotifyd.html">en</a>

</footer><!-- /.post-info --><p>Vene u smislu "postepeno postaje proziran i nestane" ili na engleski <em>fade-out</em>.
Nedavno sam počeo koristiti Compton na desktopu. Prvenstveno zbog v-synca
za Nouveau drajvere koje koristim za grafičku. Kao prijatna nuspojava tu
je i lijepši izgled sa sjenama, prozirnošću i upravo pomenutim
<em>fade-inom</em> i <em>fade-outom</em>. Kao i uvijek, ne može ništa proći bez problema.</p>
<p>Ovaj put je problem stvarao xfce4-notifyd. To je implementacija freedesktop
specifikacije za notifikacije koja dolazi sa Xfce radnim okruženjem, ali
se može naravno koristiti i van njega. Primjetio sam da se notifikacije
postepeno sklanjaju i "izlape", umjesto da nestanu odmah. Provjerio sam
Comptonov konfiguracioni fajl i dodao xfce4-notifyd za ignorisanje <em>fade-outa</em>,
ali se i dalje postepeno gasio. </p>
<p>Brzo pretraživanje interneta <a href="https://github.com/chjj/compton/issues/242">kaže</a> kaže
da je krivac xfce4-notifyd. Naime xfce4-notifyd ima sopstveno <em>fade-outovanje</em>
u slučaju da je pokrenut kompozitor. Ne postoji opcija za isključivanje
prema <a href="https://bugzilla.xfce.org/show_bug.cgi?id=11341">ovome</a> izvještaju za bag.</p>
<p>Ne znam zašto, ali sam pogledao izvorni fajl od xfce4-notifyd. Pošto nemam
apsolutno nimalo znanja o C programiranju, jedino što mi je preostalo je
da nasumično pokušam izbrisati nešto što liči kao da ima uticaja na <em>fade-out</em>.
Našao sam fajl za <a href="http://git.xfce.org/apps/xfce4-notifyd/tree/xfce4-notifyd/xfce-notify-window.c">xfce-notify-window.c</a> i
tražio gdje se sve spominje <em>fade-out</em>. Obećavajuće je izgledala
<code>xfce_notify_window_expire_timeout()</code> funkcija koja počinje na liniji 627.</p>
<p>Bukvalno sam samo izbrisao linije gdje se provjerava je li desktop kompozitovan
(zahvaljujući poznatim, istim imenima kao i za Python GObject veze).
Pogodio sam iz prvog puta. Xfce4-notifyd notifikacije su nestajale odjednom,
bez sopstevnog, neovisnog <em>fade-outa</em>.</p>
<p>Arch korisnici mogu koristiti ovaj <a href="https://github.com/dglava/pkgbuilds">PKGBUILD</a>, a
svi drugi dole navedeni patch fajl. Nisam testirao dovoljno, ali mislim da je
sve u redu i pored grubog i hakastog brisanja.</p>
<div class="highlight"><pre><span></span><span class="gd">--- xfce4-notifyd-0.2.4/xfce4-notifyd/xfce-notify-window.c  2013-04-21 16:42:08.000000000 +0200</span>
<span class="gi">+++ xfce-notify-window.c    2016-05-09 17:47:19.730137584 +0200</span>
<span class="gu">@@ -631,18 +631,9 @@</span>

     window-&gt;expire_id = 0;

<span class="gd">-    fade_transparent =</span>
<span class="gd">-        gdk_screen_is_composited(gtk_window_get_screen(GTK_WINDOW(window)));</span>
<span class="gd">-</span>
<span class="gd">-    if(fade_transparent) {</span>
<span class="gd">-        window-&gt;fade_id = g_timeout_add(FADE_CHANGE_TIMEOUT,</span>
<span class="gd">-                                        xfce_notify_window_fade_timeout,</span>
<span class="gd">-                                        window);</span>
<span class="gd">-    } else {</span>
<span class="gd">-        /* it might be 800ms early, but that&#39;s ok */</span>
<span class="gd">-        g_signal_emit(G_OBJECT(window), signals[SIG_CLOSED], 0,</span>
<span class="gd">-                      XFCE_NOTIFY_CLOSE_REASON_EXPIRED);</span>
<span class="gd">-    }</span>
<span class="gi">+    /* it might be 800ms early, but that&#39;s ok */</span>
<span class="gi">+    g_signal_emit(G_OBJECT(window), signals[SIG_CLOSED], 0,</span>
<span class="gi">+                    XFCE_NOTIFY_CLOSE_REASON_EXPIRED);</span>

     return FALSE;
 }
</pre></div><p><a href="http://dglava.github.io/compton-xfcenotifyd.html#disqus_thread">Komentari</a></p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h3>Drugi članci</h3>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://dglava.github.io/gtk-teme.html" rel="bookmark"
                           title="Permalink to Prihvatljive GTK teme">Prihvatljive GTK teme</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-05-08T00:00:00+02:00">
                Objavljeno: Ned, 08 Maj 2016
        </abbr>

<p>Pod <a href="http://dglava.github.io/category/linux.html">Linux</a></p>
<p>tagovi: <a href="http://dglava.github.io/tag/gtk.html">gtk</a> </p>Prevodi:
        <a href="http://dglava.github.io/en/gtk-teme.html">en</a>

</footer><!-- /.post-info -->                <p>Gledajući stranice kao što su <a href="http://www.deviantart.com/browse/all/customization/skins/linuxutil/desktopenv/gnome/gtk3/?order=9">DeviantArt</a>
ili <a href="http://gnome-look.org/index.php?xcontentmode=167">GNOME Look</a> reklo bi
se da uopšte nije problem pronaći normalnu temu za korištenje. Da to nije
slučaj osoba sazna veoma brzo.</p>
<h4>Problem: GTK verzija</h4>
<p>Tužna istina je da velika većina tih tema ne podržava posljednju (tokom pisanja
ovog teksta to je 3 ...</p>
                <a class="readmore" href="http://dglava.github.io/gtk-teme.html">pročitaj više</a>
<p><a href="http://dglava.github.io/gtk-teme.html#disqus_thread">Komentari</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://dglava.github.io/topa-hladna-fizika-bs, en.html" rel="bookmark"
                           title="Permalink to Hladna Fizika">Hladna Fizika</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-05-08T00:00:00+02:00">
                Objavljeno: Sun 08 May 2016
        </abbr>

<p>Pod <a href="http://dglava.github.io/category/stvari.html">Stvari</a></p>
<p>tagovi: <a href="http://dglava.github.io/tag/muzika.html">muzika</a> <a href="http://dglava.github.io/tag/lista.html">lista</a> </p>
</footer><!-- /.post-info -->                <p>Dopplereffekt - <a href="https://www.youtube.com/watch?v=ErN-kT4dKuQ">Tetrahymena</a><br />
Arpanet - <a href="https://www.youtube.com/watch?v=s1G79kfd_Rs">Wireframe Images</a><br />
Dopplereffekt - <a href="https://www.youtube.com/watch?v=kAOA96mDv-E">Higgs-Mechanism</a><br />
Dopplereffekt - <a href="https://www.youtube.com/watch?v=JqV5CfldWAw">Hyperelliptic Surfaces</a><br />
Bowery Electric - <a href="https://youtu.be/KAo4svd7IR4?t=16m20s">Under the Sun</a></p>
                <a class="readmore" href="http://dglava.github.io/topa-hladna-fizika-bs, en.html">pročitaj više</a>
<p><a href="http://dglava.github.io/topa-hladna-fizika-bs, en.html#disqus_thread">Komentari</a></p>                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 2
        <a href="http://dglava.github.io/index2.html">&raquo;</a>
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Powered by <a href="http://getpelican.com/">Pelican</a> and <a href="http://python.org">Python</a>. Theme: slightly tweaked <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'dglava';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>